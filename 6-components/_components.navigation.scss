/*=======================================
=            NAVIGATION TABS            =
=======================================*/

/* ===== NAVIGATION MENU - TABS ============================================= */

// Tabed menu - general
$menu-tabbed-padding-horiz:            .7em !default;
$menu-tabbed-padding-vertic:           .9em !default;
// Single tab (~ menu item)
$menu-tabbed-item-max-width:           $base-width / 4 !default; // accommodates up to 4 items
$menu-tabbed-item-triangle-width:      1.25em !default;
$menu-tabbed-item-triangle-height:     ( $menu-tabbed-item-triangle-width / 3 ) !default;
$menu-tabbed-item-label-colour:        $grey-stack !default;
$menu-tabbed-item-hover-label-colour:  $blue-curious !default;
$menu-tabbed-item-hover-bg-colour:     $grey-alto !default;
$menu-tabbed-item-active-label-colour: $grey-mine-shaft !default;
$menu-tabbed-item-active-bg-colour:    $green-light-victoria !default;
$menu-tabbed-underline-size:           4px;


/* Menu or submenu using tab-like layout of its items. */
.menu-tabbed {
    display: table;
    table-layout: fixed;
    @include size( 100% 1px );
    text-align: center;

    // 1st level menu items
    & > li {
        position: relative;
        display: table-cell;
        width: 100%;
        min-width: 21%;
        max-width: $menu-tabbed-item-max-width;
        vertical-align: middle;
        outline: 0;

        .ico:before { vertical-align: top; }

        .label {
            display: inline;
            margin-left: .5em;
        }

        // Selected or activated tab
        &.active {
            color: $menu-tabbed-item-active-label-colour;

            & > a {
                color: inherit;


                @include hoverify() {
                    color: inherit;
                    background-color: inherit;
                }

                &:focus{ outline: 0; }
            }

            @include after( $position: absolute ) {
                @include size( 100% $menu-tabbed-underline-size );
                background-color: $menu-tabbed-item-active-bg-colour;
                bottom: 0;
                left: 0;
            }
        }

        > a {
            display: table;
            @include size( 100% );
            padding: $menu-tabbed-padding-vertic $menu-tabbed-padding-horiz;
            font-size: 1.1em;
            font-family: $caption-font-family;
            font-weight: $weight-extrabold;
            line-height: 1.2;
            color: $menu-tabbed-item-label-colour;
            text-decoration: none;

            > div {
                display: table-cell;
                vertical-align: middle;
            }

            @include hoverify {
                background-color: $menu-tabbed-item-hover-bg-colour;
                color: $menu-tabbed-item-hover-label-colour;
            }
        }
    }
}

// Makes two col button container with one button left & one right
.two-btn-nav {
    display: flex;
    font-size: 115%; // Large buttons sizing - propagete into its own class

    p {
        margin-bottom: .35em;
        font-size: 80%;
        color: $grey-stack;
    }

    .block {
        width: 50%;

        &:first-child { padding-right: .5em; }

        &:last-child {
            padding-left: .5em;

            .two-btn-wrap {
                float: right;
                text-align: right;
            }
        }

        @include breakpoint( $tablet-and-bigger ) {
            &:first-child {
                .two-btn-wrap { padding-left: 20%; }
            }

            &:last-child {
                .two-btn-wrap { padding-right: 20%; }
            }
        }
    }

    .btn { margin: 0; }
}

    .sector .two-col-layout.two-btn-nav .block {
        width: 100% * $two-btn-layout; // Makes `two button columns` same width

        &:last-child { // Locks top padding for mobile views
            padding-top: $block-margin-vertical;

            @include breakpoint( $mobile ) {
                padding-top: $block-mobile-margin-vertical;
            }

            @include breakpoint( $mobile-large ) {
                padding-top: $block-mobile-large-margin-vertical;
            }
        }
    }

.sticky-top {
    box-shadow: rgba(#000, .2) 0 1px 20px;
}


// Sticks panels to the bottom (Mobile only)
.mobile-sticky-down {
    @include breakpoint( $mobile-large-and-smaller ) {

        &.sector {
            z-index: $z-index-top;
            //@include position( fixed, 0 0 null 0 );

            &.highlighted {
                //border-bottom: 1px solid $block-highlight-border;
            }
        }

        .menu-tabbed {

            > li > a {
                display: block; // Override to enable label's ellipsis
                padding: .6em .4em .4em .4em;

                > div { display: inline; } // Override to enable label's ellipsis
            }

            .label {
                display: inline-block;
                margin: .4em 0 0;
                width: 100%;
                font-size: 90%;
                text-overflow: ellipsis;
                line-height: 1;

                /* Required for text-overflow to do anything */
                white-space: nowrap;
                overflow: hidden;
            }
        }
    }
}
